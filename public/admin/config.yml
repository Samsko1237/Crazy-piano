backend:
  name: git-gateway
  branch: main

# IMPORTANT: Pour Netlify, git-gateway est correct
# Assurez-vous que Netlify Identity et Git Gateway sont activés dans votre dashboard Netlify

media_folder: public/images
public_folder: /images

collections:
  - name: "accueil"
    label: "Page d'accueil"
    files:
      - label: "Hero Section"
        name: "hero"
        file: "content/accueil/hero.md"
        fields:
          - {label: "Titre principal", name: "title", widget: "string"}
          - {label: "Sous-titre", name: "subtitle", widget: "text"}
          - {label: "Image hero", name: "image", widget: "image"}
          - {label: "Texte du bouton", name: "buttonText", widget: "string", required: false}
          - {label: "Lien du bouton", name: "buttonLink", widget: "string", required: false}
      - label: "Section Services"
        name: "services"
        file: "content/accueil/services.md"
        fields:
          - {label: "Titre", name: "title", widget: "string"}
          - {label: "Description", name: "description", widget: "text"}
          - {label: "Services", name: "items", widget: "list", fields: [
              {label: "Titre", name: "title", widget: "string"},
              {label: "Description", name: "description", widget: "text"},
              {label: "Icône", name: "icon", widget: "string", required: false}
            ]}
      - label: "Section À propos"
        name: "about"
        file: "content/accueil/about.md"
        fields:
          - {label: "Titre", name: "title", widget: "string"}
          - {label: "Contenu", name: "body", widget: "markdown"}
          - {label: "Image", name: "image", widget: "image", required: false}

  - name: "services"
    label: "Services"
    files:
      - label: "Page Services"
        name: "services-page"
        file: "content/services/page.md"
        fields:
          - {label: "Titre principal", name: "title", widget: "string"}
          - {label: "Description", name: "description", widget: "text"}
          - {label: "Contenu introductif", name: "intro", widget: "markdown"}
          - {label: "Liste des services", name: "services", widget: "list", fields: [
              {label: "Titre", name: "title", widget: "string"},
              {label: "Description", name: "description", widget: "text"},
              {label: "Icône", name: "icon", widget: "string", required: false}
            ]}

  - name: "pianos"
    label: "Pianos"
    folder: "content/pianos"
    create: true
    slug: "{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string"}
      - {label: "Marque", name: "brand", widget: "string"}
      - {label: "Modèle", name: "model", widget: "string", required: false}
      - {label: "Prix", name: "price", widget: "number", required: false}
      - {label: "Description", name: "description", widget: "markdown"}
      - {label: "Images", name: "images", widget: "list", field: {label: "Image", name: "image", widget: "image"}}
      - {label: "État", name: "condition", widget: "select", options: ["Neuf", "Occasion", "Restauration"], default: "Occasion"}
      - {label: "Disponible", name: "available", widget: "boolean", default: true}
      - {label: "Année", name: "year", widget: "number", required: false}
      - {label: "Type", name: "type", widget: "select", options: ["Droit", "Queue", "Électronique"], required: false}

  - name: "restauration"
    label: "Restauration"
    files:
      - label: "Page Restauration"
        name: "restauration"
        file: "content/restauration.md"
        fields:
          - {label: "Titre", name: "title", widget: "string"}
          - {label: "Description", name: "description", widget: "text"}
          - {label: "Contenu", name: "body", widget: "markdown"}
          - {label: "Images", name: "images", widget: "list", field: {label: "Image", name: "image", widget: "image"}}
          - {label: "Services de restauration", name: "services", widget: "list", fields: [
              {label: "Titre", name: "title", widget: "string"},
              {label: "Description", name: "description", widget: "text"},
              {label: "Image", name: "image", widget: "image", required: false}
            ]}

  - name: "contact"
    label: "Page Contact"
    files:
      - label: "Informations de contact"
        name: "contact"
        file: "content/contact.md"
        fields:
          - {label: "Titre", name: "title", widget: "string"}
          - {label: "Description", name: "description", widget: "text"}
          - {label: "Adresse", name: "address", widget: "string"}
          - {label: "Téléphone", name: "phone", widget: "string"}
          - {label: "Email", name: "email", widget: "string"}
          - {label: "Horaires", name: "hours", widget: "text"}
          - {label: "Carte Google Maps (iframe)", name: "map", widget: "text", required: false, hint: "Collez le code iframe de Google Maps"}

  - name: "historique"
    label: "Page Historique"
    files:
      - label: "Historique"
        name: "historique"
        file: "content/historique.md"
        fields:
          - {label: "Titre", name: "title", widget: "string"}
          - {label: "Contenu", name: "body", widget: "markdown"}
          - {label: "Images", name: "images", widget: "list", field: {label: "Image", name: "image", widget: "image"}, required: false}

  - name: "actualites"
    label: "Actualités / Blog"
    folder: "content/actualites"
    create: true
    slug: "{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string"}
      - {label: "Date", name: "date", widget: "datetime"}
      - {label: "Auteur", name: "author", widget: "string", required: false}
      - {label: "Image", name: "image", widget: "image", required: false}
      - {label: "Extrait", name: "excerpt", widget: "text", required: false}
      - {label: "Contenu", name: "body", widget: "markdown"}

  - name: "pages"
    label: "Pages générales"
    folder: "content/pages"
    create: true
    slug: "{{slug}}"
    fields:
      - {label: "Titre", name: "title", widget: "string"}
      - {label: "Description", name: "description", widget: "text", required: false}
      - {label: "Contenu", name: "body", widget: "markdown"}
      - {label: "Image principale", name: "image", widget: "image", required: false}
      - {label: "Date de publication", name: "date", widget: "datetime", required: false}
